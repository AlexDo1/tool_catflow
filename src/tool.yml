tools:
  make_geometry:
    title: CATFLOW model geometry
    description: |
      Generate a set of curvilinear orthogonal coordinates and 
      writes the corresponding geometry file for use with the hydrological model CATFLOW.
    version: 0.1
    parameters:
      xh:
        type: float
        array: true
        description: x-coordinate of slope line (northing) [m]
      yh:
        type: float
        array: true
        description: y-coordinate of slope line (easting) [m]
      zh:
        type: float
        array: true
        description: z-coordinate of slope line (surface elevation) [m]
      bh:
        type: float
        array: true
        description: slope width [m]
      tot.area:
        type: float
        description: total area of slope [m2]
      dyy:
        type: float
        description: thickness of profile [m]
      xsi:
        type: float
        array: true
        description: relative discretization in lateral direction
      eta:
        type: float
        array: true
        description: relative discretization in vertical direction
      htyp:
        type: enum
        values:
          - 1
          - 2
          - 3
        description: |
          type of geometry; (1) constant thickness (default), (2) cake-shape, 
          (3) variable thickness with spline approximation of lower boundary
      numh:
        type: integer
        description: ID for slope (default 1)
      ho_bez:
        type: float
        description: |
          point of reference for y-coordinate of slope profile (northing, 
          default 0)
      re_bez:
        type: float
        description: |
          point of reference for x-coordinate of slope profile (easting, 
          default 0)
      z_bez:
        type: float
        description: |
          point of reference for z-coordinate of slope profile (elevation, 
          default 0)
      w.aniso:
        type: float
        description: |
          angle of main direction of anisotropy, positive counterclockwise 
          (default 0)
      out.file:
        type: str
        description: |
          name for CATFLOW geofile to produce (no file is 
          generated if empty)
      plotting:
        type: boolean
        description: |
          indicating whether the specified output file is to
          be generated by the function (default T). When no output file
          name is specified, no file will be generated.
      project.path:
        type: string
        description: |
          Path to directory where the specified output file is to
          be generated (optional)
      useWithRStudio:
        type: boolean
        description: |
          indicating if the function is used from
          RStudio, which affects plots (generated in a new window in
          this case), and bringing the console back to top (default F)
        thick.tol:
          type: float
          description: |
            Tolerance for thickness when slope type is "3" (default 0.2).
            The thickness tolerance 'thick.tol' defaults to 0.2, which 
            means that for a desired thickness of 1 m (dyy = 1), the lower 
            boundary will be iteratively refined until the thickness of 
            the geometry is between 0.8 and 1.2 m.
  write_facmat:
    title: CATFLOW multiplier matrices
    description: |
      Generate two files with multiplier matrices for saturated hydraulic 
      conductivity and porosity based on the model geometry generated with 
      the tool make_geometry in CATFLOW-specific format.
    version: 0.1
    parameters:
      geometry:
        type: file
        description: |
          .Rds file generated for your catchment with the tool make_geometry,
          et and xs are taken from that file, can also be directly specified 
          (see below)
      et:
        type: float
        array: true
        description: Vertical discretization of slope profile (eta vector)
      xs:
        type: float
        array: true
        description: Lateral discretization of slope profile (xsi vector)
      numh:
        type: integer
        description: ID of hillslope (default 1)
      headr:
        type: string
        description: |
          Header/First line in output file. Defaults to
          "paste(-1000-numh, length(et), length(xs))".
      fac:
        type: file
        description: |
          Value that is to be assigned to all nodes. Either a single number, or 
          a matrix of dimensions dim(fac) = c(length(et), length(xs)).
      write_soilhyd_ini:
        type: boolean
        description: |
          If true, the file "/out/soilhyd.ini" is written, which contains initial
          conditions for hydraulic conductivity in CATFLOW specific format.
      write_soil_types:
        type: boolean
        description: |
          If true, the file "/out/soils.bod" is written, which contains soil type 
          identifiers in CATFLOW specific format.
